```js
import Link from 'next/link';

import { sleep } from '@/utils/sleep';
import { api } from '@/utils/api';

// export async function generateStaticParams() {
//   // const [posts] = await api.posts();
//
//   // return posts.map((post) => ({
//   //   id: post.id,
//   // }));
//
//   return [{ id: "1" }];
// }

const UserPage = async ({ params }: { params: { id: string } }) => {
  const [user] = await api.user(params.id);

  return (
    <div>
      <table>
        <thead>
          <tr>
            <th>Email</th>
            <th>Phone</th>
            <th>Company</th>
            <th>Website</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>{user.email}</td>
            <td>{user.phone}</td>
            <td>{user.company.name}</td>
            <td>{user.website}</td>
          </tr>
        </tbody>
      </table>
    </div>
  );
};

export default UserPage;
```

# Dynamic Image Generation

[Preview](https://www.opengraph.xyz/url/https%3A%2F%2Fnextjs13-mvp.vercel.app%2Fusers%2F1)

```js
export async function generateMetadata({
  params,
}: {
  params: { id: string },
}): Promise<Metadata> {
  const [user] = await api.user(params.id);

  return {
    title: user.name,
    openGraph: {
      title: user.name,
      images: [`/api/user-image?id=${params.id}`], // app/api/user-image/route.tsx
    },
  };
}
```
